# PostgreSQL with Automated Backups
# Copy this file to .env and update with your values

# Project Configuration
COMPOSE_PROJECT_NAME=postgres

# PostgreSQL Configuration
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=postgres
POSTGRES_PORT=5432

# pgAdmin Configuration (optional, requires --profile tools)
PGADMIN_EMAIL=admin@example.com
PGADMIN_PASSWORD=admin
PGADMIN_PORT=5050

# Backup Configuration
# Cron schedule format: minute hour day month weekday
# Examples:
#   0 2 * * *     - Daily at 2:00 AM
#   0 */6 * * *   - Every 6 hours
#   0 0 * * 0     - Weekly on Sunday at midnight
BACKUP_SCHEDULE=0 2 * * *

# Backup retention (in days)
BACKUP_RETENTION_DAYS=7

# Backup all databases (true) or single database (false)
# When true: Uses pg_dumpall to backup all PostgreSQL databases
# When false: Uses pg_dump to backup only POSTGRES_DB
BACKUP_ALL_DBS=false

# Backup file for restore (optional, leave empty to use latest)
# Example: BACKUP_FILE=/backups/postgres_mydb_2024-11-13_120000.sql.gz
BACKUP_FILE=

# Restore all databases (true) or single database (false)
# Should match BACKUP_ALL_DBS setting used during backup
RESTORE_ALL_DBS=false

# Security Notes:
# - Change all default passwords before deployment
# - Use strong passwords (at least 16 characters)
# - Never commit .env file to version control
# - Don't expose PostgreSQL port publicly in production
# - Regular backups are enabled with Ofelia scheduler
# - Backup files are stored locally in ./backups directory
