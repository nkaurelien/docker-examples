# CouchDB Cluster Configuration Example
# Copy this file to .env and update with your actual values

# Docker Compose Project Configuration
COMPOSE_PROJECT_NAME=couchdb-cluster-example
COUCHDB_NODE_NAME=couchdb-cluster-example
PORT_BASE=1001

# CouchDB Authentication (CHANGE THESE!)
COUCHDB_USER=admin
COUCHDB_PASSWORD=your_secure_password
COUCHDB_SECRET=your_secret_key
COUCHDB_COOKIE=your_erlang_cookie

# Network Configuration
# IPv4 subnet for the CouchDB network (ensure no conflicts with existing networks)
NETWORK_SUBNET=172.24.0.0/16

# Node IP Addresses (must be within the network subnet)
NODE0_IP=172.24.0.20
NODE1_IP=172.24.0.21
NODE2_IP=172.24.0.22
CLUSTER_INIT_IP=172.24.0.23
MANAGER_IP=172.24.0.24

# CouchDB Manager URLs - Standardized naming
# Source database (typically local development instance)
SOURCE_COUCHDB_URL=http://admin:your_password@localhost:10010/

# Target database (typically remote/production instance)
TARGET_COUCHDB_URL=http://username:password@remote-server:port/

# Legacy variables (kept for backward compatibility)
COUCHDB_URL=http://admin:your_password@localhost:10010/
REMOTE_COUCHDB_URL=http://username:password@remote-server:port/

# Optional: Custom hostnames (defaults to couchdb-0, couchdb-1, couchdb-2)
# NODE0_HOST=couchdb-0
# NODE1_HOST=couchdb-1  
# NODE2_HOST=couchdb-2

# CouchDB Manager Service
# The management UI is available as a Docker service at http://localhost:8501
# It provides backup, restore, sync, and delete operations with a web interface

# Backup Service Configuration
BACKUP_SERVICE_IP=172.24.0.25

# Backup Service Settings
BACKUP_SCHEDULE=0 2 * * *                    # Daily at 2 AM (cron format)  
BACKUP_RETENTION_DAYS=7                      # Keep backups for 7 days

# Security Notes:
# - Generate secrets with: openssl rand -base64 32
# - Use strong passwords for production environments
# - Keep .env file secure and never commit it to version control