# Novu Notification Platform Configuration Example
# Copy this file to .env and update with your actual values

# Project Configuration
COMPOSE_PROJECT_NAME=novu-notification

# Novu Version
NOVU_VERSION=0.24.0

# Node Environment
NODE_ENV=production

# MongoDB Configuration
MONGO_INITDB_ROOT_USERNAME=root
MONGO_INITDB_ROOT_PASSWORD=novu_mongo_secure_2024
MONGO_PORT=27017
MONGO_URL=mongodb://root:novu_mongo_secure_2024@mongodb:27017/novu-db?authSource=admin
MONGO_MIN_POOL_SIZE=10
MONGO_MAX_POOL_SIZE=500
MONGO_AUTO_CREATE_INDEXES=true

# Redis Configuration
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_CACHE_SERVICE_HOST=redis
REDIS_CACHE_SERVICE_PORT=6379

# MinIO (S3-compatible storage) Configuration
MINIO_ROOT_USER=admin
MINIO_ROOT_PASSWORD=novu_minio_secure_2024
MINIO_API_PORT=9000
MINIO_CONSOLE_PORT=9001

# S3/Storage Configuration
S3_LOCAL_STACK=http://minio:9000
S3_BUCKET_NAME=novu
S3_REGION=us-east-1
AWS_ACCESS_KEY_ID=admin
AWS_SECRET_ACCESS_KEY=novu_minio_secure_2024

# API Configuration
API_ROOT_URL=http://localhost:3000
API_PORT=3000
API_CONTEXT_PATH=

# Frontend Configuration
FRONT_BASE_URL=http://localhost:4000

# WebSocket Configuration
WS_PORT=3002
WS_CONTEXT_PATH=

# Dashboard Configuration
DASHBOARD_PORT=4000
VITE_API_HOSTNAME=http://localhost:3000
VITE_WEBSOCKET_HOSTNAME=http://localhost:3002
VITE_LEGACY_DASHBOARD_URL=http://localhost:4701

# Security - JWT and Encryption
# Generate with: openssl rand -hex 32
JWT_SECRET=d21ec2da43cb9d194a8a2a1469a56cdf76fd1bdcd1061155bbfccc31831eea98
STORE_ENCRYPTION_KEY=efbb2069c416305d6c229b93c679978b904bd1caa607fc836aefe7c268a62278
NOVU_SECRET_KEY=09325f421c99ecaa3d5c722afe3aed26a7f99d461691df14ecd649a456196c55

# Subscriber Widget JWT Expiration (in seconds)
# Default: 15552000 (180 days)
SUBSCRIBER_WIDGET_JWT_EXPIRATION_TIME=15552000

# Worker Configuration
BROADCAST_QUEUE_CHUNK_SIZE=100
MULTICAST_QUEUE_CHUNK_SIZE=100

# Feature Flags
IS_API_IDEMPOTENCY_ENABLED=true
IS_API_RATE_LIMITING_ENABLED=false
IS_NEW_MESSAGES_API_RESPONSE_ENABLED=false
IS_V2_ENABLED=false
IS_EMAIL_INLINE_CSS_DISABLED=false
IS_USE_MERGED_DIGEST_ID_ENABLED=true

# Monitoring - Sentry (Optional)
SENTRY_DSN=

# Monitoring - New Relic (Optional)
NEW_RELIC_ENABLED=false
NEW_RELIC_APP_NAME=
NEW_RELIC_LICENSE_KEY=

# Security Notes:
# - Change all default passwords before deployment
# - Generate strong secrets: openssl rand -hex 32
# - Keep .env file secure and never commit it to version control
# - Use HTTPS in production with proper SSL certificates
# - Configure firewall rules to restrict access to services
# - MongoDB and Redis should not be exposed to the internet
# - MinIO credentials should match AWS_ACCESS_KEY_ID and AWS_SECRET_ACCESS_KEY
