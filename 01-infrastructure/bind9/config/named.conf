// BIND9 Configuration File

options {
    directory "/var/cache/bind";

    // Listen on all interfaces
    listen-on { any; };
    listen-on-v6 { any; };

    // Allow queries from local networks
    allow-query { any; };

    // Forwarding to upstream DNS servers
    forwarders {
        8.8.8.8;
        8.8.4.4;
        1.1.1.1;
    };

    // Enable recursion for local clients
    recursion yes;
    allow-recursion { 127.0.0.0/8; 10.0.0.0/8; 172.16.0.0/12; 192.168.0.0/16; };

    // DNSSEC validation
    dnssec-validation auto;

    // Query logging (disable in production)
    querylog no;
};

// Logging configuration
logging {
    channel default_log {
        file "/var/log/named/named.log" versions 3 size 5m;
        severity info;
        print-time yes;
        print-severity yes;
        print-category yes;
    };
    category default { default_log; };
    category queries { default_log; };
};

// Local zone for apps.local domain
zone "apps.local" {
    type master;
    file "/var/lib/bind/db.apps.local";
    allow-update { none; };
};

// Reverse lookup zone for 192.168.1.x
zone "1.168.192.in-addr.arpa" {
    type master;
    file "/var/lib/bind/db.192.168.1";
    allow-update { none; };
};
